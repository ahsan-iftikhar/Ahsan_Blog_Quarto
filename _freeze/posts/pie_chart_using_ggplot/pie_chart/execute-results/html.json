{
  "hash": "e33b3fb6bb99a9e36ef2b5a288698825",
  "result": {
    "markdown": "---\ntitle: \"Making pie chart using ggplot\"\ndate: \"2022-06-22\"\n---\n\n\n\n\n# What is a pie chart?\n\nA chart depicted by a circle, where the areas of the circle represent 100% proportion. To subdivide the circle into proportion, a line is drawn from axis to the circumference of circle - proportionate dividing the pie based on values.\n\n> Pie charts are not recommended as a good visualization, rather we can use the bar plots instead.\n\n# When to use it?\n\n* When representing the proportion of values\n* When drawing comparison between discrete variables and their aggregated values \n* When the discrete variables being represented are less than 4. Additionally, good labels are added.\n\n# When not to use it?\n\n* When the discrete variables being represented are greater than 5\n* When comparison of a discrete variable, having another another discrete variable is required\n\nHueristic of making a pie chart in R\n\n* In the ggplot, aesthetic function call, \n     + x should be empty \n     + y should be the numerical variable from the dataset. \n     + Fill argument should be the categorical variable from dataset.\n* Call geom_bar() function, wherein stat = \"identity\" and width = 1 is defined.\n* Call coord_polar() function with arguments (\"y\", start = 0)\n* Put value text labels using, geom_text() and also position it correctly like this. geom_text(aes(label = paste0(round(share * 100), \"%\")), position = position_stack(vjust = 0.5))\n* Put better colors for the fill argument in ggplot call like this. scale_fill_manual(values = c())\n* Finally, eliminate all the labels using the labs() functions call and only specifying the title.\n\n# Examples of making pie chart using ggplot2\n\n\n\n\n\n\n\nCreating a sample data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = data.frame(brand = c(\"Samsung\",\"Huawei\",\"Apple\",\"Xiaomi\",\"OPPO\",\"Other\"),\n            share = c(.2090,.1580,.1210,.0930,.0860,.3320))\n```\n:::\n\n\n## Donut chart\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = df, mapping = aes(x = \"\", y = share, fill = brand)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(theta = \"y\", start = 0) +\n  geom_text(aes(\n    label = str_c(round(share*100), \"%\")),\n    position = position_stack(vjust = 0.5)\n    ) +\n  theme_void() +\n  scale_fill_brewer(palette = \"Dark2\") +\n  labs(title = \"Manufacturer - Market Share\") +\n  theme(\n    plot.title = element_text(hjust = 0.5, color = \"red\")\n  )\n```\n\n::: {.cell-output-display}\n![](staticunnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = df, mapping = aes(x = 2, y = share, fill = brand)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(theta = \"y\", start = 0) +\n  geom_text(aes(\n    label = str_c(round(share*100), \"%\")),\n    position = position_stack(vjust = 0.5)\n    ) +\n  theme_void() +\n  scale_fill_brewer(palette = \"Dark2\") +\n  labs(title = \"Manufacturer - Market Share\") +\n  theme(\n    plot.title = element_text(hjust = 0.5, color = \"red\")\n  ) +\n  xlim(0.5, 2.5)\n```\n\n::: {.cell-output-display}\n![](staticunnamed-chunk-2-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}